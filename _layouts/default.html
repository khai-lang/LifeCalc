<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Canonical -->
  <link rel="canonical" href="{{ page.url | absolute_url }}"/>

  <!-- Meta Description -->
  <meta name="description" content="{{ page.description | default: site.description }}">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="{{ page.title | escape }}">
  <meta property="og:description" content="{{ page.description | escape }}">
  <meta property="og:url" content="{{ page.url | absolute_url }}">
  <meta property="og:image" content="{{ site.url }}/assets/og-default.png">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">

  <!-- Jekyll SEO -->
  {% seo %}

  <!-- CSS -->
  <link rel="stylesheet" href="{{ '/assets/css/main.css?v=20251203' | relative_url }}">
  <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">

  <!-- AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3758454239921831" crossorigin="anonymous"></script>

  <script>
    window.PAGE_SECTION = "{{ page.section | default: page.url | split:'/' | slice:1 | first | default:'home' }}";
  </script>

  <style>
    :root {
      --brand:#0b4c74; --brand-ink:#fff; --accent:#ff6a00;
      --text:#222; --muted:#6b7280; --bg:#f5f7fa; --card:#fff; --line:#e6ebf0;
      --max:1100px; --nav-h:72px; --radius:14px;
      --hero-h1:32px; --hero-h2:22px;
    }

    * { box-sizing:border-box; }

    html,body {
      margin:0; background:var(--bg); color:var(--text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Apple SD Gothic Neo,Noto Sans KR,sans-serif;
    }

    a { color:inherit; text-decoration:none; }

    /* 컨테이너 */
    .wrap { max-width:var(--max); margin:0 auto; padding:0 16px; }
    main.wrap { padding:24px 16px; }

    /* 헤더 */
    header {
      position:sticky; top:0; z-index:1000;
      background:var(--brand); color:var(--brand-ink);
      box-shadow:0 1px 0 rgba(0,0,0,.06);
    }
    .header-wrap {
      max-width:var(--max); height:var(--nav-h);
      margin:0 auto; padding:0 20px;
      display:flex; align-items:center; gap:16px;
    }
    .brand { display:flex; align-items:center; gap:10px; font-weight:700; }
    .brand img { height:28px; width:auto; display:block; }

    /* 네비게이션 */
    nav.site-nav { margin-left:36px; }
    .nav-ul {
      list-style:none; margin:0; padding:0;
      display:flex; align-items:center; gap:18px; flex-wrap:nowrap;
    }

    .nav-ul > li > a, .nav-parent {
      color:var(--brand-ink); padding:12px 14px;
      border-radius:10px; background:transparent;
      cursor:pointer; white-space:nowrap;
    }

    .nav-ul > li > a:hover, .nav-parent:hover {
      background:rgba(255,255,255,.12);
    }

    /* 드롭다운 */
    .drop { position:relative; }
    .drop .menu {
      position:absolute; top:calc(100% + 8px); left:0;
      min-width:240px; display:none;
      background:#fff8f1; border:1px solid #f3e6db;
      padding:10px; border-radius:12px;
      box-shadow:0 10px 30px rgba(0,0,0,.08);
      z-index:1200;
    }
    .drop.open .menu { display:block; }

    .menu a {
      display:block; padding:12px 14px;
      margin:4px 0; background:#fff; color:#333;
      border-radius:10px; border:1px solid #efe2d7;
      transition:background .2s, border-color .2s, transform .05s;
    }
    .menu a:hover { background:#ffeedd; border-color:#f0d4c0; transform:translateY(-1px); }

    /* 모바일 */
    #nav-toggle { display:none; }
    .burger {
      display:none; color:#fff; font-size:24px;
      margin-left:auto; cursor:pointer;
    }

    @media(max-width:940px){
      .burger{display:block}
      nav.site-nav {
        display:none; position:absolute; left:0; right:0; top:var(--nav-h);
        background:var(--brand); padding:10px 12px;
      }
      #nav-toggle:checked ~ nav.site-nav { display:block; }

      .nav-ul { flex-direction:column; align-items:flex-start; }
      .drop .menu { position:static; display:none; border:0; background:transparent; }
      .drop.open .menu { display:block; }
      .menu a { color:#fff; border:0; padding:10px; }
    }

    /* 3열 레이아웃 */
    .wrap--with-rail {
      display:grid;
      grid-template-columns:200px minmax(0,1fr) 260px;
      gap:24px; align-items:start;
    }

    .left-rail, .right-rail { position:sticky; top:96px; }

    @media(max-width:860px){
      .wrap--with-rail { grid-template-columns:1fr; }
      .left-rail, .right-rail { display:none; }
      .promo-mobile { display:block !important; margin-top:14px; }
    }
    @media(min-width:861px){
      .promo-mobile { display:none !important; }
    }

    .main-content { max-width:880px; margin:0 auto; }
    h1 { font-size:var(--hero-h1); margin:6px 0 18px; }
    h2 { font-size:var(--hero-h2); margin:20px 0 10px; }
  </style>
</head>

<body>

<header>
  <div class="header-wrap">
    <a class="brand" href="/"><img src="/images/logo.png" alt="LifeCalc 로고"><span>{{ site.title }}</span></a>
    <label for="nav-toggle" class="burger">☰</label>
    <input id="nav-toggle" type="checkbox">
    {% include header.html %}
  </div>
</header>

<main class="wrap wrap--with-rail">

  <aside class="left-rail">
    {% include ads/left-rail.html %}
  </aside>

  <article class="main-content post-body">

    {% if page.title %}
      <h1 class="page-title">{{ page.title }}</h1>
    {% endif %}

    <div class="prose">
      {{ content }}
    </div>

    <div class="promo-mobile">
      {% include promo-tip-guide.html %}
      {% include ads/mobile-bottom.html %}
    </div>

  </article>

  <aside class="right-rail">
    {% include promo-tip-guide.html %}
    {% include ads/right-rail.html %}
  </aside>

</main>

<footer>
  <div class="wrap" style="padding:12px 0; color:var(--muted);">
    © {{ "now" | date:"%Y" }} LifeCalc · All rights reserved.
  </div>
</footer>

{% include calc-common.html %}
{% include common-scripts.html %}

<script>
(function(){
  const drops=document.querySelectorAll('.drop');
  drops.forEach(d=>d.classList.remove('open'));

  drops.forEach(d=>{
    const btn=d.querySelector('.nav-parent');
    if(!btn) return;
    btn.addEventListener('click',e=>{
      e.preventDefault();
      drops.forEach(x=>{ if(x!==d) x.classList.remove('open'); });
      d.classList.toggle('open');
    });
  });

  document.addEventListener('click',e=>{
    if(!e.target.closest('.drop')){
      drops.forEach(d=>d.classList.remove('open'));
    }
  });
})();
</script>

</body>
</html>
